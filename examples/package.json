{
  "author": "David Komer <david.komer@gmail.com>",
  "name": "awsm",
  "version": "0.1.0",
  "repository": "https://github.com/dakom/awsm",
  "license": "(MIT OR Apache-2.0)",
  "scripts": {
    "clean": "rimraf ./dist && rimraf ./crate/pkg && rimraf ./crate/target && rimraf ../lib/target",
    "//": "start does NOT automatically watch/re-compile rust sources. Start watch-dev.bat in a separate process for that. See README.md for more info",
    "start": "npm run _rust:build:dev && cross-env NODE_ENV=development webpack-dev-server -d --progress --open --config webpack.dev.js",
    "bundle": "npm run clean && npm run _rust:build:release && cross-env NODE_ENV=production webpack --config webpack.release.js && npm run bundle:post",
    "bundle:post": "cpy dist/index.html --rename=404.html dist && cpy --cwd=public --parents **/* ../dist",


    "//rust-dev": "",
    "_rust:build:dev:nowarnings": "cross-env RUSTFLAGS=\"-A warnings\" cargo +nightly rustc --target wasm32-unknown-unknown --manifest-path crate/Cargo.toml && npm run _rust:bindgen:dev",
    "_rust:build:dev": "cargo +nightly build --features dev --target wasm32-unknown-unknown --manifest-path crate/Cargo.toml && npm run _rust:bindgen:dev",
    "_rust:bindgen:dev": "wasm-bindgen crate/target/wasm32-unknown-unknown/debug/awsm_examples.wasm --out-dir crate/pkg",

    "//rust-release": "",
    "_rust:build:release": "cargo +nightly build --target wasm32-unknown-unknown --release --manifest-path crate/Cargo.toml && npm run _rust:bindgen:release && npm run _rust:opt",
    "_rust:bindgen:release": "wasm-bindgen crate/target/wasm32-unknown-unknown/release/awsm_examples.wasm --out-dir crate/pkg",
    "//_rust:opt": "echo 'skipping opt for now!'",
    "_rust:opt": "wasm-opt -Os -o ./crate/pkg/awsm_examples_bg.wasm ./crate/pkg/awsm_examples_bg.wasm"
  },
  "devDependencies": {
    "cpy": "^7.2.0",
    "cpy-cli": "^2.0.0",
    "cross-env": "^5.2.0",
    "css-loader": "^2.1.1",
    "html-webpack-plugin": "^3.2.0",
    "npm-run-all": "^4.1.5",
    "rimraf": "^2.6.3",
    "style-loader": "^0.23.1",
    "webpack": "^4.31.0",
    "webpack-cli": "^3.3.2",
    "webpack-dev-server": "^3.3.1"
  }
}
